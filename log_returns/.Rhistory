hist(x = list(c(134,134,213,41,23,42,134,2,341,23,41234))
# colnames(data.frame(stocks_env[[stock]]))
hist(x = list(c(134,134,213,41,23,42,134,2,341,23,41234)))
a = as.numeric(data.frame(stocks_env[[stock]])["NVDA.Open"][[1]])
hist(a)
a = as.numeric(data.frame(stocks_env[[stock]])["NVDA.Open"][[1]])
for (stock in stocks) {
df = data.frame(stocks_env[[stock]])
open = paste(stock, "Open", sep = ".")
close = paste(stock, "Close", sep = ".")
log_returns = log(df[close] / df[open])
write.csv(x = log_returns, file = paste("log_returns", stock, sep = "/"))
}
write.csv(x = log_returns, file = paste("./log_returns", stock, sep = "/"))
write.csv(x = log_returns, file = paste("./log_returns", stock, sep = "/"))
write.csv(x = log_returns, file = stock)
pwd
getwd()
write.csv(x = log_returns, file = paste0(stock, ".csv"))
setwd("/Users/chenjipeng/Documents/Learn/Columbia/IEOR4150/Project/log_returns")
write.csv(x = log_returns, file = paste0(stock, ".csv"))
data.frame(stocks_env[[stock]])["NVDA.Open"][[1]]
data.frame(stocks_env[[stock]])["NVDA.Open"])
data.frame(stocks_env[[stock]])["NVDA.Open"]
data.frame(stocks_env[[stock]])
df = data.frame(stocks_env[[stock]])
colnames <- c("Open", "High", "Low", "Close", "Volume", "Adjusted")
df = data.frame(stocks_env[[stock]])
colnames <- c("Open", "High", "Low", "Close", "Volume", "Adjusted")
df
colnames(df) <- c("Open", "High", "Low", "Close", "Volume", "Adjusted")
df
df[log_returns] = log(df[close] / df[open])
df[log_returns] = log(df["Close"] / df["open"])
df[log_returns] = log(df["Close"] / df["open"])
df[log_returns] = log(df$Close / df$Open)
df[log_returns] = log(df$Close / df$Open)
df[log_returns] = log(df[, "Close"] / df[, "Open"])
df
df$Close
df$Close / df$Open
log(df$Close / df$Open)
df$log_returns$ = log(df$Close / df$Open)
df$log_returns = log(df$Close / df$Open)
df[, "Open"]
df["Open"]
df[, "Close"] / df[ "Open"]
getwd()
write.csv(x = df$log_returns, file = paste0(stock, ".csv"))
write.csv(log_returns = df$log_returns, file = paste0(stock, ".csv"))
write.csv(x = df$log_returns, file = paste0(stock, ".csv"))
write.csv(x = df$log_returns, file = paste0(stock, ".csv", col.names = c(log_returns)))
write.csv(x = df$log_returns, file = paste0(stock, ".csv"), col.names = ["log_returns"])
write.csv(x = df$log_returns, file = paste0(stock, ".csv"), col.names = c("log_returns"))
write.csv(x = df$log_returns, file = paste0(stock, ".csv"), col.names = c("date" ,"log_returns"))
write.csv(x = df[, ["Open","log_returns"]], file = paste0(stock, ".csv"))
write.csv(x = df[["Open","log_returns"]], file = paste0(stock, ".csv"))
write.csv(x = df[, c("Open","log_returns")], file = paste0(stock, ".csv"))
write.csv(x = df["log_returns"], file = paste0(stock, ".csv"))
write.csv(x = df$log_returns, file = paste0(stock, ".csv"))
rm(list = ls())
library(quantmod)
setwd("/Users/chenjipeng/Documents/Learn/Columbia/IEOR4150/Project/log_returns")
stocks = c("AAPL", "AMZN", "FB", "GOOG", "GOOGL", "MSFT", "MU", "NFLX", "NOW","NVDA")
stocks_env = new.env()
getSymbols(Symbols = stocks, from = "2015-01-01", to = "2018-01-01", env = stocks_env)
for (stock in stocks) {
df = data.frame(stocks_env[[stock]])
colnames(df) <- c("open", "high", "low", "close", "volume", "adjusted")
df$log_returns = log(df$Close / df$Open)
write.csv(x = df["log_returns"], file = paste0(stock, ".csv"))
}
df = data.frame(stocks_env[[stock]])
colnames(df) <- c("open", "high", "low", "close", "volume", "adjusted")
df$log_returns = log(df$Close / df$Open)
for (stock in stocks) {
df = data.frame(stocks_env[[stock]])
colnames(df) <- c("open", "high", "low", "close", "volume", "adjusted")
df$log_returns = log(df$close / df$open)
write.csv(x = df["log_returns"], file = paste0(stock, ".csv"))
}
stock
df
hist(df$open)
hist(df$open, breaks = 100)
hist(df$open, breaks = 10)
hist(df$open, breaks = 15)
hist(df$open, breaks = 20)
hist(df$open, breaks = 30)
hist(df$open, breaks = 2)
hist(df$open, breaks = 1)
hist(df$open, breaks = 50)
hist(df$open, breaks = 100)
hist(df$open, breaks = 1000)
hist(df$open, breaks = 10)
hist(df$open, breaks = 100)
hist(df$close, breaks = 100)
getwd()
setwd
setwd("..")
getwd
getwd()
setwd("/Users/chenjipeng/Documents/Learn/Columbia/IEOR4150/Project/log_returns")
setwd(paste0("./", stock))
getwd()
dir.create(file.path('testdir2', 'testdir3'), recursive = TRUE)
getwd()
dir.create(file.path('testdir2', 'testdir3'), recursive = TRUE)
getwd()
dir.create(file.path('testdir2', 'testdir3'), recursive = TRUE)
dir.create(file.path('testdir2', 'testdir3'), recursive = TRUE)
# colnames(data.frame(stocks_env[[stock]]))
hist(a)
hist(df$log_returns, breaks = bin)
bin = 100
hist(df$log_returns, breaks = bin)
jpeg('rplot.jpg')
getwd()
jpeg('rplot.jpg')
getwd()
jpeg('rplot.jpg')
hist(df$log_returns, breaks = bin)
dev.off()
jpeg('rplot.jpg', quality = 750)
hist(df$log_returns, breaks = bin)
dev.off()
jpeg('rplot.jpg', quality = 10000)
hist(df$log_returns, breaks = bin)
dev.off()
jpeg('rplot.jpg', pointsize = 2)
hist(df$log_returns, breaks = bin)
dev.off()
png('rplot.png')
rplot.png
rplot.png
png('rplot.png')
hist(df$log_returns, breaks = bin)
dev.off()
jpeg('rplot.jpg')
hist(df$log_returns, breaks = bin)
dev.off()
jpeg('rplot.jpg')
hist(df$log_returns, breaks = bin)
dev.off()
library(quantmod)
setwd("/Users/chenjipeng/Documents/Learn/Columbia/IEOR4150/Project/log_returns")
stocks = c("AAPL", "AMZN", "FB", "GOOG", "GOOGL", "MSFT", "MU", "NFLX", "NOW","NVDA")
bins = c(5, 10, 50, 100, 500 , 1000)
start_date = "2015-01-01"
end_date = "2018-01-01"
stocks_env = new.env()
getSymbols(Symbols = stocks, from = start_date, to = end_date, env = stocks_env)
for (stock in stocks) {
df = data.frame(stocks_env[[stock]])
colnames(df) <- c("open", "high", "low", "close", "volume", "adjusted")
df$log_returns = log(df$close / df$open)
write.csv(x = df["log_returns"], file = paste0(stock, ".csv"))
if(!dir.exists("./close_hist")) {
dir.create(file.path(stock, "close_hist"), recursive = TRUE)
}
setwd(paste0("./", stock, "/close_hist"))
for (bin in bins) {
jpeg(paste0(stock, "_", bin))
hist(df$close, breaks = bin)
dev.off()
}
if(!dir.exists("./log_hist")) {
dir.create(file.path(stock, "log_hist"), recursive = TRUE)
}
setwd("../log_hist")
for (bin in bins) {
jpeg(paste0(stock, "_", bin))
hist(df$log_returns, breaks = bin)
dev.off()
}
setwd("..")
setwd("..")
}
stock
if(!dir.exists("./close_hist")) {
dir.create(file.path(stock, "close_hist"), recursive = TRUE)
}
for (stock in stocks) {
df = data.frame(stocks_env[[stock]])
colnames(df) <- c("open", "high", "low", "close", "volume", "adjusted")
df$log_returns = log(df$close / df$open)
write.csv(x = df["log_returns"], file = paste0(stock, ".csv"))
# enter folder ./log_returns/stock
if(!dir.exists(stock)){
dir.create(file.path(stock), recursive = TRUE)
}
setwd(paste0("./", stock))
# enter folder ./log_returns/stock/close_hist
if(!dir.exists("./close_hist")) {
dir.create(file.path("close_hist"), recursive = TRUE)
}
setwd("./close_hist")
for (bin in bins) {
jpeg(paste0(stock, "_", bin))
hist(df$close, breaks = bin)
dev.off()
}
setwd("..")
# now at ./log_returns/stock
# enter folder ./log_returns/stock/log_hist
if(!dir.exists("./log_hist")) {
dir.create(file.path("log_hist"), recursive = TRUE)
}
setwd("./log_hist")
for (bin in bins) {
jpeg(paste0(stock, "_", bin))
hist(df$log_returns, breaks = bin)
dev.off()
}
setwd("..")
setwd("..")
}
getwd()
library(quantmod)
setwd("/Users/chenjipeng/Documents/Learn/Columbia/IEOR4150/Project/log_returns")
stocks = c("AAPL", "AMZN", "FB", "GOOG", "GOOGL", "MSFT", "MU", "NFLX", "NOW","NVDA")
bins = c(5, 10, 50, 100, 500 , 1000)
start_date = "2015-01-01"
end_date = "2018-01-01"
stocks_env = new.env()
getSymbols(Symbols = stocks, from = start_date, to = end_date, env = stocks_env)
for (stock in stocks) {
df = data.frame(stocks_env[[stock]])
colnames(df) <- c("open", "high", "low", "close", "volume", "adjusted")
df$log_returns = log(df$close / df$open)
write.csv(x = df["log_returns"], file = paste0(stock, ".csv"))
# enter folder ./log_returns/stock
if(!dir.exists(stock)){
dir.create(file.path(stock), recursive = TRUE)
}
setwd(paste0("./", stock))
# enter folder ./log_returns/stock/close_hist
if(!dir.exists("./close_hist")) {
dir.create(file.path("close_hist"), recursive = TRUE)
}
setwd("./close_hist")
for (bin in bins) {
jpeg(paste0(stock, "_", bin))
hist(df$close, breaks = bin)
dev.off()
}
setwd("..")
# now at ./log_returns/stock
# enter folder ./log_returns/stock/log_hist
if(!dir.exists("./log_hist")) {
dir.create(file.path("log_hist"), recursive = TRUE)
}
setwd("./log_hist")
for (bin in bins) {
jpeg(paste0(stock, "_", bin))
hist(df$log_returns, breaks = bin)
dev.off()
}
setwd("..")
setwd("..")
}
library(quantmod)
setwd("/Users/chenjipeng/Documents/Learn/Columbia/IEOR4150/Project/log_returns")
stocks = c("AAPL", "AMZN", "FB", "GOOG", "GOOGL", "MSFT", "MU", "NFLX", "NOW","NVDA")
bins = c(5, 10, 50, 100, 500 , 1000)
start_date = "2015-01-01"
end_date = "2018-01-01"
stocks_env = new.env()
getSymbols(Symbols = stocks, from = start_date, to = end_date, env = stocks_env)
for (stock in stocks) {
df = data.frame(stocks_env[[stock]])
colnames(df) <- c("open", "high", "low", "close", "volume", "adjusted")
df$log_returns = log(df$close / df$open)
write.csv(x = df["log_returns"], file = paste0(stock, ".csv"))
# enter folder ./log_returns/hist
if(!dir.exists("hist")){
dir.create(file.path("hiat"), recursive = TRUE)
}
setwd("hist")
# enter folder ./log_returns/hist/stock
if(!dir.exists(stock)){
dir.create(file.path(stock), recursive = TRUE)
}
setwd(paste0("./", stock))
# enter folder ./log_returns/hist/stock/close_hist
if(!dir.exists("./close_hist")) {
dir.create(file.path("close_hist"), recursive = TRUE)
}
setwd("./close_hist")
for (bin in bins) {
jpeg(paste0(stock, "_", bin))
hist(df$close, breaks = bin)
dev.off()
}
setwd("..")
# now at ./log_returns/hist/stock
# enter folder ./log_returns/hist/stock/log_hist
if(!dir.exists("./log_hist")) {
dir.create(file.path("log_hist"), recursive = TRUE)
}
setwd("./log_hist")
for (bin in bins) {
jpeg(paste0(stock, "_", bin))
hist(df$log_returns, breaks = bin)
dev.off()
}
setwd("..")
setwd("..")
setwd("..")
}
stocks_env = new.env()
getSymbols(Symbols = stocks, from = start_date, to = end_date, env = stocks_env)
for (stock in stocks) {
df = data.frame(stocks_env[[stock]])
colnames(df) <- c("open", "high", "low", "close", "volume", "adjusted")
df$log_returns = log(df$close / df$open)
write.csv(x = df["log_returns"], file = paste0(stock, ".csv"))
# enter folder ./log_returns/hist
if(!dir.exists("hist")){
dir.create(file.path("hiat"), recursive = TRUE)
}
setwd("./hist")
# enter folder ./log_returns/hist/stock
if(!dir.exists(stock)){
dir.create(file.path(stock), recursive = TRUE)
}
setwd(paste0("./", stock))
# enter folder ./log_returns/hist/stock/close_hist
if(!dir.exists("./close_hist")) {
dir.create(file.path("close_hist"), recursive = TRUE)
}
setwd("./close_hist")
for (bin in bins) {
jpeg(paste0(stock, "_", bin))
hist(df$close, breaks = bin)
dev.off()
}
setwd("..")
# now at ./log_returns/hist/stock
# enter folder ./log_returns/hist/stock/log_hist
if(!dir.exists("./log_hist")) {
dir.create(file.path("log_hist"), recursive = TRUE)
}
setwd("./log_hist")
for (bin in bins) {
jpeg(paste0(stock, "_", bin))
hist(df$log_returns, breaks = bin)
dev.off()
}
setwd("..")
setwd("..")
setwd("..")
}
for (stock in stocks) {
df = data.frame(stocks_env[[stock]])
colnames(df) <- c("open", "high", "low", "close", "volume", "adjusted")
df$log_returns = log(df$close / df$open)
write.csv(x = df["log_returns"], file = paste0(stock, ".csv"))
# enter folder ./log_returns/hist
if(!dir.exists("hist")){
dir.create(file.path("hist"), recursive = TRUE)
}
setwd("./hist")
# enter folder ./log_returns/hist/stock
if(!dir.exists(stock)){
dir.create(file.path(stock), recursive = TRUE)
}
setwd(paste0("./", stock))
# enter folder ./log_returns/hist/stock/close_hist
if(!dir.exists("./close_hist")) {
dir.create(file.path("close_hist"), recursive = TRUE)
}
setwd("./close_hist")
for (bin in bins) {
jpeg(paste0(stock, "_", bin))
hist(df$close, breaks = bin)
dev.off()
}
setwd("..")
# now at ./log_returns/hist/stock
# enter folder ./log_returns/hist/stock/log_hist
if(!dir.exists("./log_hist")) {
dir.create(file.path("log_hist"), recursive = TRUE)
}
setwd("./log_hist")
for (bin in bins) {
jpeg(paste0(stock, "_", bin))
hist(df$log_returns, breaks = bin)
dev.off()
}
setwd("..")
setwd("..")
setwd("..")
}
for (stock in stocks) {
df = data.frame(stocks_env[[stock]])
colnames(df) <- c("open", "high", "low", "close", "volume", "adjusted")
df$log_returns = log(df$close / df$open)
write.csv(x = df["log_returns"], file = paste0(stock, ".csv"))
# enter folder ./log_returns/hist
if(!dir.exists("hist")){
dir.create(file.path("hist"), recursive = TRUE)
}
setwd("./hist")
# enter folder ./log_returns/hist/stock
if(!dir.exists(stock)){
dir.create(file.path(stock), recursive = TRUE)
}
setwd(paste0("./", stock))
# enter folder ./log_returns/hist/stock/close_hist
if(!dir.exists("./close_hist")) {
dir.create(file.path("close_hist"), recursive = TRUE)
}
setwd("./close_hist")
for (bin in bins) {
jpeg(paste0(stock, "_", bin, ".jpg"))
hist(df$close, breaks = bin)
dev.off()
}
setwd("..")
# now at ./log_returns/hist/stock
# enter folder ./log_returns/hist/stock/log_hist
if(!dir.exists("./log_hist")) {
dir.create(file.path("log_hist"), recursive = TRUE)
}
setwd("./log_hist")
for (bin in bins) {
jpeg(paste0(stock, "_", bin, ".jpg"))
hist(df$log_returns, breaks = bin)
dev.off()
}
setwd("..")
setwd("..")
setwd("..")
}
for (stock in stocks) {
df = data.frame(stocks_env[[stock]])
colnames(df) <- c("open", "high", "low", "close", "volume", "adjusted")
df$log_returns = log(df$close / df$open)
write.csv(x = df["log_returns"], file = paste0(stock, ".csv"))
# enter folder ./log_returns/hist
if(!dir.exists("hist")){
dir.create(file.path("hist"), recursive = TRUE)
}
setwd("./hist")
# enter folder ./log_returns/hist/stock
if(!dir.exists(stock)){
dir.create(file.path(stock), recursive = TRUE)
}
setwd(paste0("./", stock))
# enter folder ./log_returns/hist/stock/close_hist
if(!dir.exists("./close_hist")) {
dir.create(file.path("close_hist"), recursive = TRUE)
}
setwd("./close_hist")
for (bin in bins) {
jpeg(paste0(stock, "_", bin, ".jpg"))
hist(df$close, breaks = bin)
dev.off()
}
setwd("..")
# now at ./log_returns/hist/stock
# enter folder ./log_returns/hist/stock/log_hist
if(!dir.exists("./log_hist")) {
dir.create(file.path("log_hist"), recursive = TRUE)
}
setwd("./log_hist")
for (bin in bins) {
jpeg(paste0(stock, "_", bin, ".jpg"))
hist(df$log_returns, breaks = bin)
dev.off()
}
setwd("..")
setwd("..")
setwd("..")
}
for (stock in stocks) {
df = data.frame(stocks_env[[stock]])
colnames(df) <- c("open", "high", "low", "close", "volume", "adjusted")
df$log_returns = log(df$close / df$open)
write.csv(x = df["log_returns"], file = paste0(stock, ".csv"))
# enter folder ./log_returns/hist/stock
if(!dir.exists(paste0("hist/", stock))){
dir.create(file.path("hist", stock), recursive = TRUE)
}
setwd(paste0("./hist/", stock))
# enter folder ./log_returns/hist/stock/close_hist
if(!dir.exists("./close_hist")) {
dir.create(file.path("close_hist"), recursive = TRUE)
}
setwd("./close_hist")
for (bin in bins) {
jpeg(paste0(stock, "_", bin, ".jpg"))
hist(df$close, breaks = bin)
dev.off()
}
setwd("..")
# now at ./log_returns/hist/stock
# enter folder ./log_returns/hist/stock/log_hist
if(!dir.exists("./log_hist")) {
dir.create(file.path("log_hist"), recursive = TRUE)
}
setwd("./log_hist")
for (bin in bins) {
jpeg(paste0(stock, "_", bin, ".jpg"))
hist(df$log_returns, breaks = bin)
dev.off()
}
setwd("..")
setwd("..")
setwd("..")
}
